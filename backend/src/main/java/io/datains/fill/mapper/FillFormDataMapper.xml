<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="io.datains.fill.mapper.FillFormDataMapper">
    <insert id="insert" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO fill_form_data
        (id,
         form_id,
         form_data,
         creator,
         updater)
        values (#{id},
                #{formId},
                #{formData},
                #{creator},
                #{updater})
    </insert>
    <select id="getByFormId" resultType="io.datains.fill.entry.FillFormData">
        SELECT *
        FROM fill_form_data
        WHERE form_id = #{formId}
    </select>
    <update id="deleteByFormIds">
        delete from fill_form_data
        WHERE form_id IN
        <foreach collection="formIds" item="formId" open="(" separator="," close=")">
            #{formId}
        </foreach>
    </update>
    <update id="update">
        UPDATE fill_form_data
        <set>
            <if test="formId != null">
                form_id = #{formId},
            </if>
            <if test="formData != null">
                form_data = #{formData},
            </if>
            <if test="updater != null">
                updater = #{updater},
            </if>
        </set>
        WHERE id = #{id}
    </update>
</mapper>
